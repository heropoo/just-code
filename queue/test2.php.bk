<?php
/**
 * Created by PhpStorm.
 * User: ttt
 * Date: 2019/3/29
 * Time: 16:06
 */

require_once 'vendor/autoload.php';
require 'RedisQueue.php';

$client = new Predis\Client([
        'scheme' => 'tcp',
        'host'   => '116.62.205.240',
        'port'   => 6379
    ],
    [
        'replication' => 'sentinel',
        'service' => 'master',
        'parameters' => [
            'password' => 'Test86315993',
            'database' => 10,
        ],
    ]
);

$queue = new RedisQueue($client);

var_dump($queue->pop('list_1'));

$queue->push('list_1', '1');
$queue->push('list_1', '2');
$queue->push('list_1', '3');

//var_dump($queue->pop('list_1'));
//var_dump($queue->pop('list_1'));
//var_dump($queue->pop('list_1'));
//var_dump($queue->pop('list_1'));
